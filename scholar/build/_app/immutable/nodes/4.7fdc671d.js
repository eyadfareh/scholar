import{p as M}from"../chunks/db.47a53725.js";import{s as F,n as Q}from"../chunks/scheduler.7ca2eff6.js";import{S as G,i as J,g as q,m as T,s as E,C as S,h as b,j,n as $,f as m,c as A,x as V,D,k as n,a as N,y as h,o as U,z as K,A as R,E as W,B as X}from"../chunks/index.a1532baf.js";import{e as z}from"../chunks/each.e59479a4.js";import{i as Y}from"../chunks/navigation.be8bdadf.js";async function Z({params:t}){const e=await M.collection("sections").getOne(t.id),o=(await M.collection("questions").getList(1,50,{filter:`section.id = "${t.id}"`})).items;return{id:t.id,section:e,questions:o}}const ie=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function I(t,e,o){const c=t.slice();return c[3]=e[o],c}function P(t){let e,o=t[3].text+"",c,_,d,u='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 svelte-1uudj3e"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',p,g,v;function x(){return t[2](t[3])}return{c(){e=q("a"),c=T(o),_=E(),d=q("button"),d.innerHTML=u,this.h()},l(i){e=b(i,"A",{class:!0,href:!0});var s=j(e);c=$(s,o),_=A(s),d=b(s,"BUTTON",{class:!0,"data-svelte-h":!0}),V(d)!=="svelte-1ytv23j"&&(d.innerHTML=u),s.forEach(m),this.h()},h(){n(d,"class","svelte-1uudj3e"),n(e,"class","question svelte-1uudj3e"),n(e,"href",p=`/question/${t[3].id}`)},m(i,s){N(i,e,s),h(e,c),h(e,_),h(e,d),g||(v=R(d,"click",W(X(x))),g=!0)},p(i,s){t=i,s&1&&o!==(o=t[3].text+"")&&U(c,o),s&1&&p!==(p=`/question/${t[3].id}`)&&n(e,"href",p)},d(i){i&&m(e),g=!1,v()}}}function ee(t){let e,o,c=t[0].section.title+"",_,d,u,p="Questions",g,v,x,i,s,k,L,C,y=z(t[0].questions),r=[];for(let a=0;a<y.length;a+=1)r[a]=P(I(t,y,a));return{c(){e=q("div"),o=q("h1"),_=T(c),d=E(),u=q("h2"),u.textContent=p,g=E(),v=q("div");for(let a=0;a<r.length;a+=1)r[a].c();x=E(),i=q("a"),s=S("svg"),k=S("path"),L=T(`
			Add a Question.`),this.h()},l(a){e=b(a,"DIV",{class:!0});var f=j(e);o=b(f,"H1",{class:!0});var l=j(o);_=$(l,c),l.forEach(m),d=A(f),u=b(f,"H2",{"data-svelte-h":!0}),V(u)!=="svelte-bo460d"&&(u.textContent=p),g=A(f),v=b(f,"DIV",{class:!0});var w=j(v);for(let H=0;H<r.length;H+=1)r[H].l(w);x=A(w),i=b(w,"A",{href:!0,class:!0});var B=j(i);s=D(B,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var O=j(s);k=D(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),j(k).forEach(m),O.forEach(m),L=$(B,`
			Add a Question.`),B.forEach(m),w.forEach(m),f.forEach(m),this.h()},h(){n(o,"class","svelte-1uudj3e"),n(k,"stroke-linecap","round"),n(k,"stroke-linejoin","round"),n(k,"d","M12 4.5v15m7.5-7.5h-15"),n(s,"xmlns","http://www.w3.org/2000/svg"),n(s,"fill","none"),n(s,"viewBox","0 0 24 24"),n(s,"stroke-width","1.5"),n(s,"stroke","currentColor"),n(s,"class","svelte-1uudj3e"),n(i,"href",C=`/section/${t[0].id}/add`),n(i,"class","question add-question svelte-1uudj3e"),n(v,"class","questions svelte-1uudj3e"),n(e,"class","container")},m(a,f){N(a,e,f),h(e,o),h(o,_),h(e,d),h(e,u),h(e,g),h(e,v);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(v,null);h(v,x),h(v,i),h(i,s),h(s,k),h(i,L)},p(a,[f]){if(f&1&&c!==(c=a[0].section.title+"")&&U(_,c),f&3){y=z(a[0].questions);let l;for(l=0;l<y.length;l+=1){const w=I(a,y,l);r[l]?r[l].p(w,f):(r[l]=P(w),r[l].c(),r[l].m(v,x))}for(;l<r.length;l+=1)r[l].d(1);r.length=y.length}f&1&&C!==(C=`/section/${a[0].id}/add`)&&n(i,"href",C)},i:Q,o:Q,d(a){a&&m(e),K(r,a)}}}function te(t,e,o){let{data:c}=e;async function _(u){await M.collection("questions").delete(u),await Y()}const d=u=>{_(u.id)};return t.$$set=u=>{"data"in u&&o(0,c=u.data)},[c,_,d]}class re extends G{constructor(e){super(),J(this,e,te,ee,F,{data:0})}}export{re as component,ie as universal};
